// thedpcoin.cpp : Defines the entry point for the console application.
//

#include "stdafx.h"
#include <iostream>
using namespace std;

int n,s,w[50],f[50],q[50];

//-----------------------------------------------------------------------------
//-----------------------------------------------------------------------------
//-----------------------------------------------------------------------------

void setup(int s)
{
	for (int i = 1; i <= s; i++)
		f[i] = s + 1;
	f[0] = 0;
	for (int i = 1; i <= n; i++)
		q[i] = 0;
}

//-----------------------------------------------------------------------------
//-----------------------------------------------------------------------------
//-----------------------------------------------------------------------------

void dynamicPrograming()
{
	for (int i=1; i<=s; i++)
		for (int j = 1; j <= n; j++)
		{
			if ((i >= w[j]) && ((f[i - w[j]] + 1) <= f[i]))
			{
				f[i] = f[i - w[j]]+1;
			}
		}
}

//-----------------------------------------------------------------------------
//-----------------------------------------------------------------------------
//-----------------------------------------------------------------------------

void recurrentRelation()
{
	int j = s;
	while (j != 0)
	{
		for (int i = 1; i <=n; i++)
		{
			if ((j >= w[i]) && ((f[j - w[i]] + 1) <= f[j]))
			{
				q[i] += 1;
				j -= w[i];
				break;
			}
		}
	}
}

//-----------------------------------------------------------------------------
//-----------------------------------------------------------------------------
//-----------------------------------------------------------------------------

int main()
{
	cout << "Select the number of the types of the coin:  ";
	cin >> n;
	cout << "Please choose the value of each type:  \n";
	for (int i = 1; i <= n; i++)
		cin >> w[i];
	cout << "Select the value: ";
	cin >> s;
	cout << "---------------------------------------------------------------\n\n";
	setup(s);
	dynamicPrograming();
	recurrentRelation();
	for (int i = 1; i <= n; i++)
	{
		cout << "There are " << q[i] << " bills of " << w[i] << " USD" << endl;
		cout << endl;
	}
	cout << "---------------------------------------------------------------\n";
	return 0;
}

